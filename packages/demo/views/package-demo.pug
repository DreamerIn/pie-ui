html
  head 
    link(href="https://fonts.googleapis.com/css?family=Roboto", rel="stylesheet")

    style. 

      * {
        font-family: 'Roboto', sans-serif;
      }

    script(src=`/assets/${name}.js`)

    script(type="text/javascript"). 

      document.addEventListener("DOMContentLoaded", () => {

        const data = !{JSON.stringify(data)};

        if(!customElements.get('!{tagName}') ){
          console.warn('!{tagName} is not a custom element')
        }

        if(data && data.models){
          const el = '!{tagName}';
          data.models.forEach( m => {
            const n = document.querySelector(`[pie-id="${m.id}"]`); 
            n.model = m;
            n.session = {};
          });
        } else {
          console.error('no data?', data);
        }
      })
  body 
    h1
      | @pie-ui/!{name}@!{pkg.version}
    
    | !{markup}