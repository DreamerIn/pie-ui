html
  head 
    meta(charset="utf-8")
    link(href="https://fonts.googleapis.com/css?family=Roboto", rel="stylesheet")

    script(src="/assets/index.js", charset="utf-8")
    style. 

      html, body {
        margin-left: 0;
        --mdc-theme-primary: !{pkg.version === 'next' ? 'orange' : '#3f51b5'};
         /*padding: 0;*/
      }

      * {
        font-family: 'Roboto', sans-serif;
      }
      a {
        display: block;
      }

      .content{
        position: relative;
        top: 50px;
        padding: 30px;
      }

    script(src=`/assets/${name}.js`, charset="utf-8")

    script(type="text/javascript", charset="utf-8"). 

      document.addEventListener("DOMContentLoaded", () => {

        const data = !{JSON.stringify(data)};

        customElements.whenDefined('!{tagName}').then(() => {

          if(data && data.models){
            const el = '!{tagName}';
            data.models.forEach( m => {
              const n = document.querySelector(`[pie-id="${m.id}"]`); 
              n.model = m;
              n.session = {};
            });
          } else {
            console.error('no data?', data);
          }

        })
      })
  body 
    mwc-top-app-bar(title="foo") 
      span(slot="title") @pie-ui/!{name}@!{pkg.version}
      span(slot="title") &nbsp;| !{branch}
    div.content
    
      | !{markup}